<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ActorFramework: ActorFramework::ExecutionUnit Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ActorFramework
   </div>
   <div id="projectbrief">Basic implementation of the actor framework using MPI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ActorFramework</b></li><li class="navelem"><a class="el" href="classActorFramework_1_1ExecutionUnit.html">ExecutionUnit</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classActorFramework_1_1ExecutionUnit-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ActorFramework::ExecutionUnit Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Execution units are in charge of processing all the actors. When an actor is created it should be assigned to an execution unit which will execute it. Execution units are in charge of controlling communication between actors calling the internal functions. They are also in charge of distributing load to try to keep a more balanced execution.  
 <a href="classActorFramework_1_1ExecutionUnit.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ExecutionUnit_8h_source.html">ExecutionUnit.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1e28737d29646c63879f4e1b6ddb6e21"><td class="memItemLeft" align="right" valign="top"><a id="a1e28737d29646c63879f4e1b6ddb6e21"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActorFramework_1_1ExecutionUnit.html#a1e28737d29646c63879f4e1b6ddb6e21">ExecutionUnit</a> ()</td></tr>
<tr class="memdesc:a1e28737d29646c63879f4e1b6ddb6e21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new Execution Unit object. <br /></td></tr>
<tr class="separator:a1e28737d29646c63879f4e1b6ddb6e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ff932f2bec2d81e6ac13998eef966f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActorFramework_1_1ExecutionUnit.html#a15ff932f2bec2d81e6ac13998eef966f">createNewActor</a> (<a class="el" href="classActorFramework_1_1Message.html">Message</a> &amp;message, unsigned int *createdActorId=nullptr)</td></tr>
<tr class="memdesc:a15ff932f2bec2d81e6ac13998eef966f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a New <a class="el" href="classActorFramework_1_1Actor.html" title="This is the main class of the program. Actors will be in charge of executing the simulation....">Actor</a> object on the less loaded execution unit. First sends a message to the master which decides the less loaded unit. Then the master send a message to all other execution units. The corresponding execution unit creates the actor. The other execution units update their maps to mantain communications.  <a href="classActorFramework_1_1ExecutionUnit.html#a15ff932f2bec2d81e6ac13998eef966f">More...</a><br /></td></tr>
<tr class="separator:a15ff932f2bec2d81e6ac13998eef966f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0871ee7068b843ff4c7c0f104b65fc42"><td class="memItemLeft" align="right" valign="top"><a id="a0871ee7068b843ff4c7c0f104b65fc42"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActorFramework_1_1ExecutionUnit.html#a0871ee7068b843ff4c7c0f104b65fc42">finishProgram</a> ()</td></tr>
<tr class="memdesc:a0871ee7068b843ff4c7c0f104b65fc42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a termination message to all execution units completing the program. This is similar to a force termination. Can be used to finish the simulation as soon as the result is known. <br /></td></tr>
<tr class="separator:a0871ee7068b843ff4c7c0f104b65fc42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5a1f209dacaa014a2410ecd575a60b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActorFramework_1_1ExecutionUnit.html#a7d5a1f209dacaa014a2410ecd575a60b">communicateWithActor</a> (<a class="el" href="classActorFramework_1_1Message.html">Message</a> &amp;message) const</td></tr>
<tr class="memdesc:a7d5a1f209dacaa014a2410ecd575a60b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to an actor. It communicates with other execution units. Error handle allows to redirect incorrect messages to master, which should be able of redirect to the correct execution unit.  <a href="classActorFramework_1_1ExecutionUnit.html#a7d5a1f209dacaa014a2410ecd575a60b">More...</a><br /></td></tr>
<tr class="separator:a7d5a1f209dacaa014a2410ecd575a60b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adabb7ff8b6bbc1cdd80315e2d8e6c225"><td class="memItemLeft" align="right" valign="top"><a id="adabb7ff8b6bbc1cdd80315e2d8e6c225"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActorFramework_1_1ExecutionUnit.html#adabb7ff8b6bbc1cdd80315e2d8e6c225">mainLoop</a> ()</td></tr>
<tr class="memdesc:adabb7ff8b6bbc1cdd80315e2d8e6c225"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the program. The execution unit will be on an infinite loop to update and receive actors messages. finishProgram competes the loop in all execution units. <br /></td></tr>
<tr class="separator:adabb7ff8b6bbc1cdd80315e2d8e6c225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383f23f9c1c4e0e8aa83fb0fb8ca3a14"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActorFramework_1_1ExecutionUnit.html#a383f23f9c1c4e0e8aa83fb0fb8ca3a14">registerActorType</a> (<a class="el" href="classActorFramework_1_1Actor.html">Actor</a> *actor)</td></tr>
<tr class="memdesc:a383f23f9c1c4e0e8aa83fb0fb8ca3a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new type of actors that can be created. Must be called on all execution units.  <a href="classActorFramework_1_1ExecutionUnit.html#a383f23f9c1c4e0e8aa83fb0fb8ca3a14">More...</a><br /></td></tr>
<tr class="separator:a383f23f9c1c4e0e8aa83fb0fb8ca3a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4635d5264e6049af5787973676db3dee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActorFramework_1_1ExecutionUnit.html#a4635d5264e6049af5787973676db3dee">destroyActor</a> (const unsigned int actorId_)</td></tr>
<tr class="memdesc:a4635d5264e6049af5787973676db3dee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys one actor Depending of the warning level new messages send to this actor will be ignored or create a warning.  <a href="classActorFramework_1_1ExecutionUnit.html#a4635d5264e6049af5787973676db3dee">More...</a><br /></td></tr>
<tr class="separator:a4635d5264e6049af5787973676db3dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fc237f16fc7a1eb97ef15b7ef3f02e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActorFramework_1_1ExecutionUnit.html#a9fc237f16fc7a1eb97ef15b7ef3f02e3">getRank</a> () const</td></tr>
<tr class="memdesc:a9fc237f16fc7a1eb97ef15b7ef3f02e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Rank or id of the execution unit. When using the MPI implementation is the same as calling MPI_rank.  <a href="classActorFramework_1_1ExecutionUnit.html#a9fc237f16fc7a1eb97ef15b7ef3f02e3">More...</a><br /></td></tr>
<tr class="separator:a9fc237f16fc7a1eb97ef15b7ef3f02e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf6674f19b0ef25a0220747f0154ecef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classActorFramework_1_1ExecutionUnit.html#adf6674f19b0ef25a0220747f0154ecef">isMaster</a> () const</td></tr>
<tr class="memdesc:adf6674f19b0ef25a0220747f0154ecef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets if the execution unit is the master.  <a href="classActorFramework_1_1ExecutionUnit.html#adf6674f19b0ef25a0220747f0154ecef">More...</a><br /></td></tr>
<tr class="separator:adf6674f19b0ef25a0220747f0154ecef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Execution units are in charge of processing all the actors. When an actor is created it should be assigned to an execution unit which will execute it. Execution units are in charge of controlling communication between actors calling the internal functions. They are also in charge of distributing load to try to keep a more balanced execution. </p>
<p>When using the MPI implementation they are MPI processes. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a7d5a1f209dacaa014a2410ecd575a60b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5a1f209dacaa014a2410ecd575a60b">&#9670;&nbsp;</a></span>communicateWithActor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActorFramework::ExecutionUnit::communicateWithActor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classActorFramework_1_1Message.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to an actor. It communicates with other execution units. Error handle allows to redirect incorrect messages to master, which should be able of redirect to the correct execution unit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td><a class="el" href="classActorFramework_1_1Message.html" title="Messages are shared between different execution units for internal and intra-actor communication.">Message</a> to send to the other actor. Dest actor Id is used to find the correct execution unit. Size and origActorId are expected to be correct. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15ff932f2bec2d81e6ac13998eef966f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ff932f2bec2d81e6ac13998eef966f">&#9670;&nbsp;</a></span>createNewActor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActorFramework::ExecutionUnit::createNewActor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classActorFramework_1_1Message.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>createdActorId</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a New <a class="el" href="classActorFramework_1_1Actor.html" title="This is the main class of the program. Actors will be in charge of executing the simulation....">Actor</a> object on the less loaded execution unit. First sends a message to the master which decides the less loaded unit. Then the master send a message to all other execution units. The corresponding execution unit creates the actor. The other execution units update their maps to mantain communications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td><a class="el" href="classActorFramework_1_1Message.html" title="Messages are shared between different execution units for internal and intra-actor communication.">Message</a> used to create the actor. It must store the actor type, size and parameters. Tag, destActorId, origActorId will be correctly set. </td></tr>
    <tr><td class="paramname">createdActorId</td><td>Returns the <a class="el" href="classActorFramework_1_1Actor.html" title="This is the main class of the program. Actors will be in charge of executing the simulation....">Actor</a> id of the new actor. It can only be used if called from the master execution unit. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4635d5264e6049af5787973676db3dee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4635d5264e6049af5787973676db3dee">&#9670;&nbsp;</a></span>destroyActor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ActorFramework::ExecutionUnit::destroyActor </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>actorId_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys one actor Depending of the warning level new messages send to this actor will be ignored or create a warning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actorId_</td><td><a class="el" href="classActorFramework_1_1Actor.html" title="This is the main class of the program. Actors will be in charge of executing the simulation....">Actor</a> Id of the removed actor. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9fc237f16fc7a1eb97ef15b7ef3f02e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fc237f16fc7a1eb97ef15b7ef3f02e3">&#9670;&nbsp;</a></span>getRank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ActorFramework::ExecutionUnit::getRank </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the Rank or id of the execution unit. When using the MPI implementation is the same as calling MPI_rank. </p>
<dl class="section return"><dt>Returns</dt><dd>int The execution unit rank </dd></dl>

</div>
</div>
<a id="adf6674f19b0ef25a0220747f0154ecef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf6674f19b0ef25a0220747f0154ecef">&#9670;&nbsp;</a></span>isMaster()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ActorFramework::ExecutionUnit::isMaster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets if the execution unit is the master. </p>
<dl class="section return"><dt>Returns</dt><dd>true Is the master </dd>
<dd>
false Is not the master </dd></dl>

</div>
</div>
<a id="a383f23f9c1c4e0e8aa83fb0fb8ca3a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383f23f9c1c4e0e8aa83fb0fb8ca3a14">&#9670;&nbsp;</a></span>registerActorType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ActorFramework::ExecutionUnit::registerActorType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classActorFramework_1_1Actor.html">Actor</a> *&#160;</td>
          <td class="paramname"><em>actor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a new type of actors that can be created. Must be called on all execution units. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actor</td><td><a class="el" href="classActorFramework_1_1Actor.html" title="This is the main class of the program. Actors will be in charge of executing the simulation....">Actor</a> of the class that it is being registered. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>unsigned int Type used to create new actors of this class. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ActorFramework/include/<a class="el" href="ExecutionUnit_8h_source.html">ExecutionUnit.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
